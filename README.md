# Docker-workshop

Workshop Codespaces

# Docker and PostgreSQL: Data Engineering Workshop

Рассмотрим основы Docker и рабочие процессы разработки данных с использованием контейнеров Docker.

**Мы рассмотрим:**

- Введение в Docker и контейнеризацию
- Запуск PostgreSQL в контейнере Docker
- Загрузка данных в PostgreSQL
- Работа с pgAdmin для управления базами данных
- Сеть Docker и сопоставление портов
- Docker Compose для приложений с несколькими контейнерами
- Создание конвейера загрузки данных
- SQL обновление с использованием реальных данных
- Лучшие практики для рабочих процессов инженерии данных в контейнерах

# Первоначальная настройка

Создаю репозиторий, при создании в gitignore добавляю python.

Для работы буду использовать GitHub Codespaces - это облачная среда разработки (VS Code в браузере), которая запускается прямо в GitHub.
Там есть полностью настроенный контейнер Linux со всем, что нужно для разработки: Python, Docker, Git, расширения VS Code, терминал и т. д..

<img width="471" height="439" alt="image" src="https://github.com/user-attachments/assets/878e5d8d-ee97-48d3-a1b2-70fb0bab15ae" />

Видим как в браузере открылся VS Code.

<img width="1916" height="919" alt="image" src="https://github.com/user-attachments/assets/68c91b36-3ddf-4d90-a2ca-8648fe6aad5b" />

Можно работать прям в браузере, но лучше открыть через VS Code установленный локально. Для этого кликаю в левый нижний угол и выбираю открыть VS Code Descktop.

<img width="894" height="629" alt="image" src="https://github.com/user-attachments/assets/16ecb5f4-2894-44c5-b41b-4321eb6a7eef" />

Открыли VS Code на компьютере

<img width="2209" height="1041" alt="image" src="https://github.com/user-attachments/assets/26c07899-009c-439c-a2ed-666e6fa928c4" />

Можем проверить версию python.

<img width="498" height="53" alt="image" src="https://github.com/user-attachments/assets/f3e663b1-2c67-4b7f-81f3-5f59ea4bb02e" />

Ввожу в терминале команду (как в Linux) `PS1="> "` чтобы сделать строку, которую Bash показывает перед вводом команды, короче (будет просто галочка).

<img width="433" height="69" alt="image" src="https://github.com/user-attachments/assets/b645d126-13ea-487c-8ea5-0aeaffda801c" />

Когда запускаю новый терминал, можно заметить что строка становится опять длинной. Чтобы постоянно не вводить команду для сокращения отображения промта баша, просто пропишем в bashrc команду. Прописываю команду `echo 'PS1="> "' > ~/.bashrc`.

Файл .bashrc — это конфигурационный файл настроек оболочки Bash, который запускается каждый раз, когда открываешь новый интерактивный терминал Bash (например, в Linux, macOS или внутри Codespaces/Docker-контейнера).
Через него можно менять поведение терминала под себя.

<img width="444" height="88" alt="image" src="https://github.com/user-attachments/assets/5ef0507c-9ede-4bef-a9a7-b874024ea984" />

Теперь когда запустили новый терминал, у нас короткая строка (просто галочка, а раньше было `@erohin94 ➜ /workspaces/docker-workshop (main) $`).

<img width="1454" height="301" alt="image" src="https://github.com/user-attachments/assets/33f38545-74b9-40ff-b049-38e1400486c2" />

Этого можно не делать, но так выглядит не так заграможденно.

# Введение в Docker

Docker — это программное обеспечение для контейнеризации, которое позволяет изолировать программное обеспечение так же, как это делают виртуальные машины, но с гораздо меньшими затратами.

Образ Docker — это моментальный снимок контейнера, который мы можем использовать для запуска нашего программного обеспечения или, в данном случае, наших конвейеров данных. Экспортируя наши образы Docker в облачные сервисы, такие как Amazon Web Services или Google Cloud Platform, мы можем запускать там наши контейнеры.

**Почему Docker?**

Docker обладает следующими преимуществами:

- Воспроизводимость: везде одинаковая среда.
- Изоляция: приложения работают независимо друг от друга.
- Портативность: можно запускать в любом месте, где установлен Docker.
